<!DOCTYPE html>
<html>
<head>
  <title>checkPropTypes.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/prop-types/checkPropTypes.js";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>checkPropTypes.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>
<div class="dox">
<div class="summary">
<p>Copyright (c) 2013-present, Facebook, Inc.</p>
</div>
<div class="body">
<p>This source code is licensed under the MIT license found in the
LICENSE file in the root directory of this source tree.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-meta">
'use strict'</span>;

<span class="hljs-keyword">var</span> printWarning = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{};

<span class="hljs-keyword">if</span> (process.env.NODE_ENV !== <span class="hljs-string">'production'</span>) {
  <span class="hljs-keyword">var</span> ReactPropTypesSecret = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./lib/ReactPropTypesSecret'</span>);
  <span class="hljs-keyword">var</span> loggedTypeFailures = {};
  <span class="hljs-keyword">var</span> has = <span class="hljs-built_in">Function</span>.call.bind(<span class="hljs-built_in">Object</span>.prototype.hasOwnProperty);

  printWarning = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">text</span>) </span>{
    <span class="hljs-keyword">var</span> message = <span class="hljs-string">'Warning: '</span> + text;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">console</span> !== <span class="hljs-string">'undefined'</span>) {
      <span class="hljs-built_in">console</span>.error(message);
    }
    <span class="hljs-keyword">try</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>--- Welcome to debugging React ---
This error was thrown as a convenience so that you can use this stack
to find the callsite that caused this warning to fire.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(message);
    } <span class="hljs-keyword">catch</span> (x) {}
  };
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<div class="dox">
<div class="summary">
<p>Assert that the values match with the type specs.
Error messages are memorized and will only be shown once.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">typeSpecs</span>
<span class="dox_type">object</span>
<span>Map of name to a ReactPropType
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">values</span>
<span class="dox_type">object</span>
<span>Runtime values that need to be type-checked
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">location</span>
<span class="dox_type">string</span>
<span>e.g. &quot;prop&quot;, &quot;context&quot;, &quot;child context&quot;
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">componentName</span>
<span class="dox_type">string</span>
<span>Name of the component for error messages.
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">getStack</span>
<span class="dox_type">Function</span>
<span>Returns the component stack.
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkPropTypes</span>(<span class="hljs-params">typeSpecs, values, location, componentName, getStack</span>) </span>{
  <span class="hljs-keyword">if</span> (process.env.NODE_ENV !== <span class="hljs-string">'production'</span>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> typeSpecName <span class="hljs-keyword">in</span> typeSpecs) {
      <span class="hljs-keyword">if</span> (has(typeSpecs, typeSpecName)) {
        <span class="hljs-keyword">var</span> error;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<p>Prop type validation may throw. In case they do, we don't want to
fail the render phase where it didn't fail before. So we log it.
After these have been cleaned up, we'll let them throw.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">try</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p>This is intentionally an invariant that gets caught. It's the same
behavior as without this statement except with a better message.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> typeSpecs[typeSpecName] !== <span class="hljs-string">'function'</span>) {
            <span class="hljs-keyword">var</span> err = <span class="hljs-built_in">Error</span>(
              (componentName || <span class="hljs-string">'React class'</span>) + <span class="hljs-string">': '</span> + location + <span class="hljs-string">' type `'</span> + typeSpecName + <span class="hljs-string">'` is invalid; '</span> +
              <span class="hljs-string">'it must be a function, usually from the `prop-types` package, but received `'</span> + <span class="hljs-keyword">typeof</span> typeSpecs[typeSpecName] + <span class="hljs-string">'`.'</span>
            );
            err.name = <span class="hljs-string">'Invariant Violation'</span>;
            <span class="hljs-keyword">throw</span> err;
          }
          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, <span class="hljs-literal">null</span>, ReactPropTypesSecret);
        } <span class="hljs-keyword">catch</span> (ex) {
          error = ex;
        }
        <span class="hljs-keyword">if</span> (error &amp;&amp; !(error <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Error</span>)) {
          printWarning(
            (componentName || <span class="hljs-string">'React class'</span>) + <span class="hljs-string">': type specification of '</span> +
            location + <span class="hljs-string">' `'</span> + typeSpecName + <span class="hljs-string">'` is invalid; the type checker '</span> +
            <span class="hljs-string">'function must return `null` or an `Error` but returned a '</span> + <span class="hljs-keyword">typeof</span> error + <span class="hljs-string">'. '</span> +
            <span class="hljs-string">'You may have forgotten to pass an argument to the type checker '</span> +
            <span class="hljs-string">'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and '</span> +
            <span class="hljs-string">'shape all require an argument).'</span>
          );
        }
        <span class="hljs-keyword">if</span> (error <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Error</span> &amp;&amp; !(error.message <span class="hljs-keyword">in</span> loggedTypeFailures)) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>Only monitor this failure once because there tends to be a lot of the
same error.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">          loggedTypeFailures[error.message] = <span class="hljs-literal">true</span>;

          <span class="hljs-keyword">var</span> stack = getStack ? getStack() : <span class="hljs-string">''</span>;

          printWarning(
            <span class="hljs-string">'Failed '</span> + location + <span class="hljs-string">' type: '</span> + error.message + (stack != <span class="hljs-literal">null</span> ? stack : <span class="hljs-string">''</span>)
          );
        }
      }
    }
  }
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<div class="dox">
<div class="summary">
<p>Resets warning cache when testing.</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">checkPropTypes.resetWarningCache = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">if</span> (process.env.NODE_ENV !== <span class="hljs-string">'production'</span>) {
    loggedTypeFailures = {};
  }
}

<span class="hljs-built_in">module</span>.exports = checkPropTypes;

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
